/* Compact losers bracket (matches winners style), centered & scaled */

.lbViewport{
  --colw: clamp(140px, 11vw, 190px);
  --gap:  clamp(20px, 2.4vw, 30px);

  /* box sizes */
  --slotH: 40px;                 /* slightly flat but readable */
  --pairGapInside: 10px;
  --pairPad: 4px;

  --pairH: calc(var(--slotH)*2 + var(--pairGapInside) + var(--pairPad)*2);

  /* vertical rhythms */
  --r1Space: 24px;               /* space between the 4 R1 matchups */
  --r2Space: calc(var(--pairH) + 20px);
  --r3Space: calc(var(--pairH) + var(--r2Space));
  --r4Space: calc(var(--pairH) + var(--r3Space));

  /* lines & joins */
  --line: #4b5563;
  --joinW: 2px;
  --stub: 10px;
  --arm:  calc(var(--gap) - var(--stub));

  /* VCT-style dark slots with purple edge */
  --slotBgLeft: #020617;
  --slotBgRight: #7c3aed;
  --slotBorder: #111827;
  --textBright: #e5e7eb;

  --stageW: calc(var(--colw) * 7 + var(--gap) * 6);
  --stageH: clamp(520px, 60vh, 700px);

  --topSpace: 120px;
  --fitW: calc(100vw / var(--stageW));
  --fitH: calc((100vh - var(--topSpace)) / var(--stageH));
  --scale: min(1, var(--fitW), var(--fitH));

  width:100%;
  height:calc(100vh - var(--topSpace));
  display:grid;
  place-items:center;
  overflow:visible;
}

.lbStage{
  width:var(--stageW);
  height:var(--stageH);
  transform:scale(var(--scale));
  transform-origin:top center;
}

.lbGrid{
  width:100%;
  height:100%;
  display:grid;
  grid-template-columns:repeat(7,var(--colw));
  gap:var(--gap);
  align-items:start;
}

/* rounds / titles */

.round{ position:relative; }

.roundTitle{
  color:#dfe6f3;
  font-weight:900;
  font-size:12px;
  letter-spacing:.08em;
  text-transform:uppercase;
  margin-bottom:8px;
}

.stack{
  position:relative;
  display:grid;
}

/* spacing per round */

.r1  .pair{ margin: calc(var(--r1Space)/2) 0; }

/* R2 aligned between R1 feeders: same rhythm + shift down by half a matchup */
.r2  .pair{ margin: calc(var(--r1Space)/2) 0; }
.r2  .stack{ margin-top: calc(var(--pairH) / 2); }

/* keep others a bit roomier */
.r3a .pair{ margin: 18px 0; }
.r3b .pair{ margin: 18px 0; }
.r4  .pair{ margin: 22px 0; }
.rFinal .pair{ margin: 26px 0; }

/* pair / slots */

.pair{
  position:relative;
  padding: var(--pairPad) 0;
}

/* small stub on right going into next column */
.pair::after{
  content:"";
  position:absolute;
  top:50%;
  right: calc(var(--stub) * -1);
  transform: translateY(-50%);
  width: var(--stub);
  height: var(--joinW);
  background: var(--line);
}

.slot{
  height: var(--slotH);
  border-radius: 6px;
  border: 1px solid var(--slotBorder);
  /* VCT-style bar: dark left, purple right */
  background: linear-gradient(
    to right,
    var(--slotBgLeft) 0%,
    var(--slotBgLeft) 78%,
    var(--slotBgRight) 78%,
    var(--slotBgRight) 100%
  );
  display:flex;
  align-items:center;
  justify-content:center;  /* keep names centered like you asked earlier */
  padding: 0 12px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.75);
  text-align:center;
}

.slot + .slot{
  margin-top: var(--pairGapInside);
}

.label{
  color: var(--textBright);
  font-weight: 700;
  font-size: 13px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* collectors + arms for rounds that feed from previous column */

.r2 .pair,
.r3a .pair,
.r3b .pair,
.r4 .pair,
.rFinal .pair{
  background-image:
    linear-gradient(var(--line), var(--line)),
    linear-gradient(var(--line), var(--line));
  background-repeat: no-repeat, no-repeat;
  background-size:
    var(--joinW) calc(var(--slotH) + var(--pairGapInside)),
    var(--arm) var(--joinW);
  background-position:
    left calc(var(--gap) * -1 + var(--arm)) 50%,
    left calc(var(--gap) * -1)              50%;
}

/* LB winner */

.lbWinnerCol{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
}

.lbWinnerTitle{
  color:#dfe6f3;
  font-weight:900;
  font-size:12px;
  letter-spacing:.08em;
  text-transform:uppercase;
  margin-bottom:8px;
}

.lbWinnerPill{
  min-width: var(--colw);
  background: linear-gradient(
    to right,
    var(--slotBgLeft) 0%,
    var(--slotBgLeft) 65%,
    var(--slotBgRight) 65%,
    var(--slotBgRight) 100%
  );
  border:1px solid var(--slotBorder);
  color:#ffffff;
  border-radius:999px;
  padding:10px 20px;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 16px 40px rgba(0,0,0,0.85);
}

.lbWinnerText{
  font-weight:800;
  font-size:14px;
  letter-spacing:0.04em;
}
