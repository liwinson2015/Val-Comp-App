/* Losers bracket styling â€“ square boxes, compact width, same vibe as Bracket16 */

.viewport{
  --colw: clamp(120px, 9vw, 150px);
  --gap:  clamp(14px, 1.8vw, 20px);

  --slotH: 36px;
  --pairGapInside: 10px;
  --pairPad: 4px;

  --pairH: calc(var(--slotH)*2 + var(--pairGapInside) + var(--pairPad)*2);

  --rSpace: clamp(14px, 1.6vh, 20px);

  --line: #2a2f36;
  --joinW: 2px;
  --stub: 10px;
  --arm:  calc(var(--gap) - var(--stub));

  --slotBg: #f4f6fb;
  --slotBorder: #cfd7ea;
  --textDark: #0f1320;

  --stageW: calc(var(--colw) * 7 + var(--gap) * 6);
  --stageH: clamp(420px, 50vh, 620px);

  --topSpace: 90px;

  --fitW: calc(100vw / var(--stageW));
  --fitH: calc((100vh - var(--topSpace)) / var(--stageH));
  --scale: min(1, var(--fitW), var(--fitH));

  width:100%;
  display:grid;
  place-items:center;
  overflow:visible;
}
.stage{ width:var(--stageW); height:var(--stageH); transform:scale(var(--scale)); transform-origin:top center; }
.grid{
  width:100%; height:100%;
  display:grid; grid-template-columns:repeat(7,var(--colw));
  gap:var(--gap); align-items:start;
}

/* columns / rounds */
.round { position:relative; }
.roundTitle{
  color:#dfe6f3; font-weight:900; font-size:12px;
  letter-spacing:.08em; text-transform:uppercase; margin-bottom:8px;
}
.stack{ position:relative; display:grid; }

/* generic spacing */
.stack .pair{ margin: calc(var(--rSpace)/2) 0; }

/* match pair (two slots) */
.pair{
  position:relative;
  padding: var(--pairPad) 0;
}
.pair::after{
  content:"";
  position:absolute; top:50%; right: calc(var(--stub) * -1);
  transform: translateY(-50%);
  width: var(--stub); height: var(--joinW);
  background: var(--line);
}
.sideRight.pair::after{
  left: calc(var(--stub) * -1);
  right: auto;
}

/* slots */
.slot{
  height: var(--slotH);
  border: 2px solid var(--slotBorder);
  border-radius: 0;
  background: var(--slotBg);
  display:flex; align-items:center;
  padding: 0 10px;
  box-shadow: none;
}
.slot + .slot{ margin-top: var(--pairGapInside); }
.label{
  color: var(--textDark);
  font-weight: 700; font-size: 13px;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* connector arms when you want to show merges (optional) */
.join {
  background-image:
    linear-gradient(var(--line), var(--line)),
    linear-gradient(var(--line), var(--line));
  background-repeat: no-repeat, no-repeat;
  background-size:
    var(--joinW) calc(var(--slotH) + var(--pairGapInside)),
    var(--arm) var(--joinW);
  background-position:
    left calc(var(--gap) * -1 + var(--arm)) 50%,
    left calc(var(--gap) * -1)              50%;
}
.right .join{
  background-position:
    right calc(var(--gap) * -1 + var(--arm)) 50%,
    right calc(var(--gap) * -1)              50%;
}

/* small caption lines under some slots */
.note{
  color:#8fa1ba;
  font-size:11px;
  margin:4px 0 0 2px;
}

/* compatibility helpers (if you mirror columns) */
.right { direction:ltr; }
