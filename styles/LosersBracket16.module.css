/* Losers bracket styling â€“ compact square boxes, same look as winners */

.viewport {
  /* smaller column and spacing */
  --colw: clamp(95px, 7.5vw, 120px);
  --gap: clamp(10px, 1.5vw, 14px);

  /* box + spacing */
  --slotH: 32px;
  --pairGapInside: 8px;
  --pairPad: 3px;

  /* derived */
  --pairH: calc(var(--slotH)*2 + var(--pairGapInside) + var(--pairPad)*2);
  --rSpace: clamp(12px, 1.2vh, 18px);

  /* connector */
  --line: #2a2f36;
  --joinW: 2px;
  --stub: 8px;
  --arm: calc(var(--gap) - var(--stub));

  /* colors */
  --slotBg: #f4f6fb;
  --slotBorder: #cfd7ea;
  --textDark: #0f1320;

  /* container sizing */
  --stageW: calc(var(--colw) * 8 + var(--gap) * 7);
  --stageH: clamp(420px, 45vh, 580px);

  --topSpace: 80px;

  --fitW: calc(100vw / var(--stageW));
  --fitH: calc((100vh - var(--topSpace)) / var(--stageH));
  --scale: min(1, var(--fitW), var(--fitH));

  width: 100%;
  display: grid;
  place-items: center;
  overflow: visible;
}

.stage {
  width: var(--stageW);
  height: var(--stageH);
  transform: scale(var(--scale));
  transform-origin: top center;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(8, var(--colw));
  gap: var(--gap);
  align-items: start;
}

/* columns */
.round {
  position: relative;
}
.roundTitle {
  color: #dfe6f3;
  font-weight: 900;
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 6px;
}
.stack {
  position: relative;
  display: grid;
}
.stack .pair {
  margin: calc(var(--rSpace)/2) 0;
}

/* pair of two slots */
.pair {
  position: relative;
  padding: var(--pairPad) 0;
}
.pair::after {
  content: "";
  position: absolute;
  top: 50%;
  right: calc(var(--stub) * -1);
  transform: translateY(-50%);
  width: var(--stub);
  height: var(--joinW);
  background: var(--line);
}
.sideRight.pair::after {
  left: calc(var(--stub) * -1);
  right: auto;
}

/* slot boxes */
.slot {
  height: var(--slotH);
  border: 2px solid var(--slotBorder);
  border-radius: 0;
  background: var(--slotBg);
  display: flex;
  align-items: center;
  padding: 0 8px;
  box-shadow: none;
}
.slot + .slot {
  margin-top: var(--pairGapInside);
}
.label {
  color: var(--textDark);
  font-weight: 700;
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* join lines */
.join {
  background-image:
    linear-gradient(var(--line), var(--line)),
    linear-gradient(var(--line), var(--line));
  background-repeat: no-repeat, no-repeat;
  background-size:
    var(--joinW) calc(var(--slotH) + var(--pairGapInside)),
    var(--arm) var(--joinW);
  background-position:
    left calc(var(--gap) * -1 + var(--arm)) 50%,
    left calc(var(--gap) * -1) 50%;
}
.right .join {
  background-position:
    right calc(var(--gap) * -1 + var(--arm)) 50%,
    right calc(var(--gap) * -1) 50%;
}

/* optional note text below some slots */
.note {
  color: #8fa1ba;
  font-size: 10px;
  margin: 3px 0 0 2px;
}

/* for mirrored columns */
.right {
  direction: ltr;
}

/* final LB Winner box */
.lbFinalCol {
  text-align: center;
}
.lbWinnerBox {
  background: #1c2952;
  border: 2px solid #122040;
  color: #ffffff;
  font-weight: 800;
  border-radius: 0;
  padding: 8px 12px;
  margin-top: 4px;
}
.lbWinnerTitle {
  color: #e7ecf5;
  font-size: 11px;
  font-weight: 900;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  margin-bottom: 6px;
}
