/* styles/Bracket16.module.css (compact + responsive, no clipping) */

/* === Canvas sizing & scale (auto-fits on one screen) === */
.viewport {
  /* Make columns narrower and gaps tighter.
     clamp() keeps it readable on large and small screens. */
  --colw: clamp(160px, 12vw, 185px);
  --gap: clamp(14px, 2vw, 20px);

  /* Match card heights a touch shorter */
  --pairH: clamp(78px, 8.5vh, 86px);

  /* Vertical rhythm so connector lines hit card midpoints */
  --r16Space: clamp(18px, 2vh, 24px);
  --qfSpace: clamp(70px, 8vh, 88px);
  --sfSpace: clamp(160px, 18vh, 200px);

  /* Derive the stage size from columns + gaps */
  --stageW: calc(var(--colw) * 7 + var(--gap) * 6);
  --stageH: clamp(600px, 70vh, 720px);

  /* If your navbar or header is tall, nudge this up/down */
  --topSpace: 130px;

  /* Scale to the smaller of width/height fit */
  --fitW: calc(100vw / var(--stageW));
  --fitH: calc((100vh - var(--topSpace)) / var(--stageH));
  --scale: min(1, var(--fitW), var(--fitH));

  width: 100%;
  height: calc(100vh - var(--topSpace));
  display: grid;
  place-items: center;
  overflow: visible; /* never clip the edges */
}

.stage {
  width: var(--stageW);
  height: var(--stageH);
  transform: scale(var(--scale));
  transform-origin: top center;
}

/* === Grid === */
.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(7, var(--colw));
  gap: var(--gap);
  align-items: start;
}

/* === Round columns === */
.round { position: relative; }
.roundTitle {
  color: #d7deea;
  font-weight: 900;
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 8px;
}

.stack { position: relative; display: grid; }

/* vertical rhythm */
.r16 .matchWrap { margin: calc(var(--r16Space)/2) 0; }
.qf  .matchWrap { margin: calc(var(--qfSpace)/2) 0; }
.sf  .matchWrap { margin: calc(var(--sfSpace)/2) 0; }

/* connector wires to next column */
.round:not(.final) .matchWrap::after {
  content: "";
  position: absolute;
  top: 50%;
  right: calc(var(--gap) * -1);
  transform: translateY(-50%);
  height: 2px;
  width: var(--gap);
  background: rgba(255, 107, 129, 0.95);
  border-radius: 1px;
}
.right .stack .matchWrap::after {
  left: calc(var(--gap) * -1);
  right: auto;
  transform: translateY(-50%) scaleX(-1);
}

/* === Match Card === */
.matchWrap {
  position: relative;
  height: var(--pairH);
  display: grid;
  align-items: center;
}

.match {
  width: 100%;
  background: #0f151d;
  border: 3px solid #293446;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.35);
  transition: border-color 0.15s ease, box-shadow 0.15s ease, transform 0.08s ease;
}
.match:hover {
  border-color: #ff4655;
  box-shadow: 0 0 0 3px rgba(255, 70, 85, 0.18),
              0 16px 36px rgba(255, 70, 85, 0.12);
  transform: translateY(-1px);
}

.row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px; /* slightly tighter */
  border-top: 1px solid #1b2430;
}
.row:first-child { border-top: none; }

.name {
  color: #e7ecf5;
  font-weight: 700;
  font-size: 13.5px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* === Final Block (two finalists feeding up to champion) === */
.finalCol { position: relative; }
.finalHeader {
  color: #d7deea;
  font-weight: 900;
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 8px;
  text-align: center;
}

.champWrap { display: grid; place-items: center; margin-bottom: 6px; }
.champ {
  min-width: var(--colw);
  background: #0f151d;
  border: 3px solid #293446;
  border-radius: 12px;
  padding: 10px 14px;
  color: #e7ecf5;
  font-weight: 900;
  letter-spacing: 0.04em;
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.35);
}

.stem {
  width: 3px;
  height: 18px;
  background: #ff6b81;
  border-radius: 2px;
  margin: 0 auto 8px auto;
}

.finalRow {
  display: grid;
  grid-template-columns: 1fr 16px 1fr; /* tighter middle */
  align-items: center;
  gap: 8px;
}
.finalBox {
  background: #0f151d;
  border: 3px solid #293446;
  border-radius: 12px;
  padding: 10px 14px;
  color: #e7ecf5;
  font-weight: 800;
  text-align: center;
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.35);
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}
.finalBox:hover {
  border-color: #ff4655;
  box-shadow: 0 0 0 3px rgba(255, 70, 85, 0.18),
              0 16px 36px rgba(255, 70, 85, 0.12);
}
.midbar {
  height: 3px;
  width: 100%;
  background: #ff6b81;
  border-radius: 2px;
}

/* === Ultra-wide guard: if width is still tight, auto-shrink a bit more === */
@media (min-width: 1280px) and (max-width: 1440px) {
  .viewport { --colw: clamp(150px, 11vw, 175px); --gap: clamp(12px, 1.6vw, 18px); }
}
