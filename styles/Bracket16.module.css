/* Picture-accurate bracket: pill colors + gold T-connectors + compact width */

/* ---------- Canvas sizing & auto-fit ---------- */
.viewport{
  --colw: clamp(150px, 11vw, 168px);  /* narrow pills like the image */
  --gap:  clamp(14px, 1.8vw, 18px);
  --pairH: clamp(70px, 7.6vh, 80px);

  /* vertical rhythms */
  --r16Space: clamp(16px, 1.8vh, 22px);
  --qfSpace:  clamp(60px, 7vh, 80px);
  --sfSpace:  clamp(134px, 15vh, 184px);

  /* connector styling */
  --gold: #f2c24d;
  --blue: #9ed6ff;
  --dark: #0f151d;
  --ink: #11161e;

  --line: var(--gold);
  --stub: 12px;
  --arm:  calc(var(--gap) - var(--stub)); /* horizontal arm length */

  --joinR16toQF: calc(var(--pairH) + var(--r16Space)); /* vertical bar height */
  --joinQFtoSF:  calc(var(--pairH) + var(--qfSpace));

  /* stage derived */
  --stageW: calc(var(--colw) * 7 + var(--gap) * 6);
  --stageH: clamp(560px, 68vh, 720px);

  /* page header allowance */
  --topSpace: 130px;

  /* scale to fit viewport */
  --fitW: calc(100vw / var(--stageW));
  --fitH: calc((100vh - var(--topSpace)) / var(--stageH));
  --scale: min(1, var(--fitW), var(--fitH));

  width: 100%;
  height: calc(100vh - var(--topSpace));
  display: grid;
  place-items: center;
  overflow: visible;
}

.stage{ width:var(--stageW); height:var(--stageH); transform:scale(var(--scale)); transform-origin:top center; }
.grid{
  width:100%; height:100%;
  display:grid; grid-template-columns:repeat(7,var(--colw));
  gap:var(--gap); align-items:start;
}

/* ---------- Rounds ---------- */
.round{ position:relative; }
.roundTitle{
  color:#e7ecf5; opacity:.9;
  font-weight:900; font-size:12px; letter-spacing:.08em; text-transform:uppercase;
  margin-bottom:8px;
}
.stack{ position:relative; display:grid; }

/* vertical rhythm to align connectors perfectly */
.r16 .matchWrap{ margin: calc(var(--r16Space)/2) 0; }
.qf  .matchWrap{ margin: calc(var(--qfSpace)/2) 0; }
.sf  .matchWrap{ margin: calc(var(--sfSpace)/2) 0; }

/* ---------- Picture-style connectors ---------- */
/* short stubs on the “leaving” side (R16 and QF) */
.r16 .matchWrap::after,
.qf  .matchWrap::after{
  content:""; position:absolute; top:50%; right:calc(var(--stub) * -1);
  transform:translateY(-50%); height:2px; width:var(--stub);
  background:var(--line); border-radius:1px;
}
/* mirror right */
.right .stack .matchWrap::after{ left:calc(var(--stub) * -1); right:auto; transform:translateY(-50%) scaleX(-1); }

/* QF arm + vertical join back to R16 */
.qf .matchWrap{
  background-image: linear-gradient(var(--line),var(--line));
  background-repeat: no-repeat;
  background-size: 2px var(--joinR16toQF);
  background-position: left calc(var(--gap) * -1 + var(--arm));
}
.right .qf .matchWrap{
  background-image: linear-gradient(var(--line),var(--line));
  background-size: 2px var(--joinR16toQF);
  background-position: right calc(var(--gap) * -1 + var(--arm));
}
/* horizontal arm for QF */
.qf .matchWrap::before{
  content:""; position:absolute; top:50%; left:calc(var(--gap) * -1); transform:translateY(-50%);
  width:var(--arm); height:2px; background:var(--line); border-radius:1px;
}
.right .qf .matchWrap::before{
  left:auto; right:calc(var(--gap) * -1);
}

/* SF arm + vertical join back to QF */
.sf .matchWrap{
  background-image: linear-gradient(var(--line),var(--line));
  background-repeat:no-repeat;
  background-size:2px var(--joinQFtoSF);
  background-position:left calc(var(--gap) * -1 + var(--arm));
}
.right .sf .matchWrap{
  background-image: linear-gradient(var(--line),var(--line));
  background-size:2px var(--joinQFtoSF);
  background-position:right calc(var(--gap) * -1 + var(--arm));
}
/* SF short stub already provided by generic ::after above (applies via .qf/.r16 only) */

/* ---------- Match cards (pills) ---------- */
.matchWrap{ position:relative; height:var(--pairH); display:grid; align-items:center; }
.match{
  width:100%;
  border:0; border-radius:999px; overflow:hidden;
  box-shadow:0 8px 22px rgba(0,0,0,.30);
  transition:transform .08s ease, box-shadow .15s ease, filter .15s ease;
}
.match:hover{ transform:translateY(-1px); box-shadow:0 10px 30px rgba(0,0,0,.36); filter:brightness(1.03); }

.row{ display:flex; align-items:center; gap:6px; padding:10px 14px; }
.row + .row{ border-top:1px solid rgba(0,0,0,.08); }

/* pill variants */
.pillBlue { background: var(--blue);    color:#0b1320; }
.pillGold { background: var(--gold);    color:#1b1300; }
.pillDark { background: #1b2330;       color:#e7ecf5; }
.pillWhite{ background: #ffffff;       color:#20242a; }

.name{ font-weight:800; font-size:13.5px; letter-spacing:.02em; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* ---------- Final block ---------- */
.finalCol{ position:relative; }
.winnerLabel{
  text-align:center; color:#e7ecf5; opacity:.9;
  font-weight:900; letter-spacing:.10em; text-transform:uppercase; font-size:12px;
  margin-bottom:8px;
}
.champWrap{ display:grid; place-items:center; margin-bottom:6px; }
.champ{
  min-width: var(--colw);
  padding:10px 16px; border-radius:14px;
  box-shadow:0 8px 22px rgba(0,0,0,.30);
}
.stem{ width:3px; height:16px; background:var(--line); border-radius:2px; margin:0 auto 8px auto; }
.finalRow{
  display:grid; grid-template-columns:1fr 14px 1fr; align-items:center; gap:8px;
}
.finalBox{
  padding:10px 14px; border-radius:12px; box-shadow:0 8px 22px rgba(0,0,0,.30);
}
.midbar{ height:3px; width:100%; background:var(--line); border-radius:2px; }
